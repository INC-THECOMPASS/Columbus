{"version":3,"file":"formats.min.js","sources":["../src/core/constants.ts","../src/helpers/getter.ts","../src/helpers/validator.ts","../src/helpers/lifecycleManager.ts","../src/utils/formats/commaizeNumber.ts"],"sourcesContent":["export const PROMPT_MSG = {\n  empty_text: '빈 값 입니다.',\n  empty_elem: '선택된 요소가 없습니다.',\n  wrong_attr: '잘못된 속성 값을 입력하셨습니다.'\n};\n\n","import { validateElements, validateText } from './validator';\n\nexport const getElements = (selector: string): NodeListOf<Element> => {\n  const elements = document.querySelectorAll(selector);\n  validateElements(elements);\n\n  return elements;\n};\n\nexport const getElementAttr = (\n  element: Element,\n  customAttr: string,\n): string => {\n  return validateText(customAttr);\n};\n","import { PROMPT_MSG } from '../core/constants';\n\nexport const validateElements = (\n  elements: NodeListOf<Element> | null,\n): Element | NodeListOf<Element> => {\n  if (!elements) {\n    throw new Error(PROMPT_MSG.empty_elem);\n  }\n\n  return elements;\n};\n\nexport const validateElementAttr = (attr: string, value: string): boolean => {\n  return attr === value;\n};\n\nexport const validateText = (text: string | null): string => {\n  if (!text) {\n    throw new Error(PROMPT_MSG.empty_text);\n  }\n\n  return text;\n};\n","type LifecycleEvent = 'DOMContentLoaded' | 'load' | 'beforeunload' | 'unload';\n\nconst lifecycleEvents: { [key in LifecycleEvent]?: Array<() => void> } = {\n  DOMContentLoaded: [],\n  load: [],\n  beforeunload: [],\n  unload: [],\n};\n\nconst eventFired: { [key in LifecycleEvent]?: boolean } = {\n  DOMContentLoaded: false,\n  load: false,\n  beforeunload: false,\n  unload: false,\n};\n\n// 콜백 등록 함수\nexport function onEvent(event: LifecycleEvent, callback: () => void) {\n  if (eventFired[event]) {\n    callback();\n    return;\n  }\n\n  lifecycleEvents[event]?.push(callback);\n}\n\n// 각 이벤트 발생 시 콜백 실행\ndocument.addEventListener('DOMContentLoaded', () => {\n  eventFired.DOMContentLoaded = true;\n  lifecycleEvents.DOMContentLoaded?.forEach((callback) => callback());\n});\n\nwindow.addEventListener('load', () => {\n  eventFired.load = true;\n  lifecycleEvents.load?.forEach((callback) => callback());\n});\n\nwindow.addEventListener('beforeunload', () => {\n  eventFired.beforeunload = true;\n  lifecycleEvents.beforeunload?.forEach((callback) => callback());\n});\n\nwindow.addEventListener('unload', () => {\n  eventFired.unload = true;\n  lifecycleEvents.unload?.forEach((callback) => callback());\n});\n","import {\n  getElementAttr,\n  getElements,\n} from '../../helpers/getter';\nimport {\n  validateElementAttr,\n  validateText,\n} from '../../helpers/validator';\nimport { onEvent } from '../../helpers/lifecycleManager';\n\nexport const commaizeNumber = () => {\n  const customAttr = 'tc-format-number';\n  const attrValue = 'comma';\n\n  const elements = getElements(`[${customAttr}]`);\n\n  elements.forEach((elem: Element) => {\n    const attr = getElementAttr(elem, customAttr);\n\n    if (validateElementAttr(attr, attrValue)) {\n      const hasText = validateText(elem.textContent);\n      const number = parseInt(hasText, 10);\n\n      if (!Number.isNaN(number)) {\n        elem.textContent = number.toLocaleString('ko-KR');\n      }\n    }\n  });\n};\n\nonEvent('DOMContentLoaded', commaizeNumber);\n"],"names":["PROMPT_MSG","getElements","selector","elements","document","querySelectorAll","Error","validateElements","lifecycleEvents","DOMContentLoaded","load","beforeunload","unload","eventFired","addEventListener","_a","forEach","callback","window","commaizeNumber","elem","event","push"],"mappings":"uPAAO,MAAMA,EAEC,gBCADC,EAAeC,IAC1B,MAAMC,EAAWC,SAASC,iBAAiBH,GAG3C,MCJ8B,CAC9BC,IAEA,IAAKA,EACH,MAAM,IAAIG,MAAMN,EAGH,EDLfO,CAAiBJ,GAEVA,CAAQ,EEJXK,EAAmE,CACvEC,iBAAkB,GAClBC,KAAM,GACNC,aAAc,GACdC,OAAQ,IAGJC,EAAoD,CACxDJ,kBAAkB,EAClBC,MAAM,EACNC,cAAc,EACdC,QAAQ,GAcVR,SAASU,iBAAiB,oBAAoB,WAC5CD,EAAWJ,kBAAmB,EACE,QAAhCM,EAAAP,EAAgBC,wBAAgB,IAAAM,GAAAA,EAAEC,SAASC,GAAaA,KAAW,IAGrEC,OAAOJ,iBAAiB,QAAQ,WAC9BD,EAAWH,MAAO,EACE,QAApBK,EAAAP,EAAgBE,YAAI,IAAAK,GAAAA,EAAEC,SAASC,GAAaA,KAAW,IAGzDC,OAAOJ,iBAAiB,gBAAgB,WACtCD,EAAWF,cAAe,EACE,QAA5BI,EAAAP,EAAgBG,oBAAY,IAAAI,GAAAA,EAAEC,SAASC,GAAaA,KAAW,IAGjEC,OAAOJ,iBAAiB,UAAU,WAChCD,EAAWD,QAAS,EACE,QAAtBG,EAAAP,EAAgBI,cAAM,IAAAG,GAAAA,EAAEC,SAASC,GAAaA,KAAW,IClC9C,MAAAE,EAAiB,KAIXlB,EAAY,sBAEpBe,SAASI,IAAD,GAWf,EDVY,IAAQC,EAAuBJ,IAAAA,ECanBE,EDZtBN,EADkBQ,ECahB,oBDXJJ,YAIFF,EAAAP,EAAgBa,mBAAQC,KAAKL"}