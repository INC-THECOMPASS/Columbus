{"version":3,"file":"formats.min.js","sources":["../src/core/constants.ts","../src/helpers/getter.ts","../src/helpers/validator.ts","../src/helpers/lifecycleManager.ts","../src/utils/formats/commaizeNumber.ts"],"sourcesContent":["export const PROMPT_MSG = {\n  EMPTY_TEXT: '빈 값 입니다.',\n  EMPTY_ELEM: '선택된 요소가 없습니다.',\n};","import { validateElements } from './validator';\n\nexport const getElements = (selector: string): NodeListOf<Element> => {\n  const elements = document.querySelectorAll(selector);\n  validateElements(elements);\n\n  return elements\n};","import { PROMPT_MSG } from '../core/constants';\n\nexport const validateElements = (elements: NodeListOf<Element> | null): Element | NodeListOf<Element> => {\n  if (!elements) {\n    throw new Error(PROMPT_MSG.EMPTY_ELEM);\n  }\n\n  return elements;\n};\n\nexport const validateElementsAttr = (elements: NodeListOf<Element>, customAttr: string, value: string): boolean => {\n  return Array.from(elements).some((elem: Element) => {\n    const customAttrValue = elem.getAttribute(customAttr);\n    return customAttrValue === value;\n  });\n};\n\nexport const validateElementsText = (text: string | null): string => {\n  if (!text) {\n    throw new Error(PROMPT_MSG.EMPTY_TEXT);\n  }\n\n  return text;\n};","type LifecycleEvent = 'DOMContentLoaded' | 'load' | 'beforeunload' | 'unload';\n\nconst lifecycleEvents: { [key in LifecycleEvent]?: Array<() => void> } = {\n  DOMContentLoaded: [],\n  load: [],\n  beforeunload: [],\n  unload: [],\n};\n\nconst eventFired: { [key in LifecycleEvent]?: boolean } = {\n  DOMContentLoaded: false,\n  load: false,\n  beforeunload: false,\n  unload: false,\n};\n\n// 콜백 등록 함수\nexport function onEvent(event: LifecycleEvent, callback: () => void) {\n  if (eventFired[event]) {\n    callback();\n    return;\n  }\n\n  lifecycleEvents[event]?.push(callback);\n}\n\n// 각 이벤트 발생 시 콜백 실행\ndocument.addEventListener('DOMContentLoaded', () => {\n  eventFired.DOMContentLoaded = true;\n  lifecycleEvents.DOMContentLoaded?.forEach(callback => callback());\n});\n\nwindow.addEventListener('load', () => {\n  eventFired.load = true;\n  lifecycleEvents.load?.forEach(callback => callback());\n});\n\nwindow.addEventListener('beforeunload', () => {\n  eventFired.beforeunload = true;\n  lifecycleEvents.beforeunload?.forEach(callback => callback());\n});\n\nwindow.addEventListener('unload', () => {\n  eventFired.unload = true;\n  lifecycleEvents.unload?.forEach(callback => callback());\n});\n","import { getElements } from '../../helpers/getter';\nimport { validateElementsAttr, validateElementsText } from '../../helpers/validator';\nimport { onEvent } from '../../helpers/lifecycleManager';\n\nexport const commaizeNumber = () => {\n  const elements = getElements('[tc-format-string]');\n  const hasAttr = validateElementsAttr(elements, 'tc-format-string', 'comma');\n\n  if (hasAttr) {\n    elements.forEach((elem: Element) => {\n      const hasText = validateElementsText(elem.textContent);\n      const number = parseInt(hasText, 10);\n\n      if (!Number.isNaN(number)) {\n        elem.textContent = number.toLocaleString('ko-KR');\n      }\n    });\n  }\n};\n\nonEvent('DOMContentLoaded', commaizeNumber);\n"],"names":["PROMPT_MSG","getElements","selector","elements","document","querySelectorAll","Error","validateElements","lifecycleEvents","DOMContentLoaded","load","beforeunload","unload","eventFired","addEventListener","_a","forEach","callback","window","commaizeNumber","hasAttr","customAttr","value","Array","from","some","elem","getAttribute","validateElementsAttr","hasText","text","validateElementsText","textContent","number","parseInt","Number","isNaN","toLocaleString","event","push"],"mappings":"uPAAO,MAAMA,EACC,WADDA,EAEC,gBCADC,EAAeC,IAC1B,MAAMC,EAAWC,SAASC,iBAAiBH,GAG3C,MCJ8B,CAACC,IAC/B,IAAKA,EACH,MAAM,IAAIG,MAAMN,EAGH,EDHfO,CAAiBJ,GAEVA,CAAQ,EEJXK,EAAmE,CACvEC,iBAAkB,GAClBC,KAAM,GACNC,aAAc,GACdC,OAAQ,IAGJC,EAAoD,CACxDJ,kBAAkB,EAClBC,MAAM,EACNC,cAAc,EACdC,QAAQ,GAcVR,SAASU,iBAAiB,oBAAoB,WAC5CD,EAAWJ,kBAAmB,EACE,QAAhCM,EAAAP,EAAgBC,wBAAgB,IAAAM,GAAAA,EAAEC,SAAQC,GAAYA,KAAW,IAGnEC,OAAOJ,iBAAiB,QAAQ,WAC9BD,EAAWH,MAAO,EACE,QAApBK,EAAAP,EAAgBE,YAAI,IAAAK,GAAAA,EAAEC,SAAQC,GAAYA,KAAW,IAGvDC,OAAOJ,iBAAiB,gBAAgB,WACtCD,EAAWF,cAAe,EACE,QAA5BI,EAAAP,EAAgBG,oBAAY,IAAAI,GAAAA,EAAEC,SAAQC,GAAYA,KAAW,IAG/DC,OAAOJ,iBAAiB,UAAU,WAChCD,EAAWD,QAAS,EACE,QAAtBG,EAAAP,EAAgBI,cAAM,IAAAG,GAAAA,EAAEC,SAAQC,GAAYA,KAAW,ICxC5C,MAAAE,EAAiB,KAC5B,MAAMhB,EAAWF,EAAY,sBACvBmB,EFI4B,EAACjB,EAA+BkB,EAAoBC,IAC/EC,MAAMC,KAAKrB,GAAUsB,MAAMC,GACRA,EAAKC,aAAaN,KACfC,IEPbM,CAAqBzB,EAAU,mBAAoB,SAE/DiB,GACFjB,EAASa,SAASU,IAChB,MAAMG,EFOwB,CAACC,IACnC,IAAKA,EACH,MAAM,IAAIxB,MAAMN,GAGlB,OAAO8B,CAAI,EEZSC,CAAqBL,EAAKM,aACpCC,EAASC,SAASL,EAAS,IAE5BM,OAAOC,MAAMH,KAChBP,EAAKM,YAAcC,EAAOI,eAAe,cDGjC,IAAQC,EAAuBrB,IAAAA,ECGnBE,EDFtBN,EADkByB,ECGhB,oBDDJrB,YAIFF,EAAAP,EAAgB8B,mBAAQC,KAAKtB"}