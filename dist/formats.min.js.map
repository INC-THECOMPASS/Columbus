{"version":3,"file":"formats.min.js","sources":["../src/core/constants.ts","../src/helpers/validator.ts","../src/helpers/getter.ts","../src/helpers/lifecycleManager.ts","../src/utils/formats/commaizeNumber.ts"],"sourcesContent":["export const PROMPT_MSG = {\n  empty_text: '빈 값 입니다.',\n  empty_elem: '선택된 요소가 없습니다.',\n  wrong_attr: '잘못된 속성 값을 입력하셨습니다.'\n};\n\n","import { PROMPT_MSG } from '../core/constants';\n\nexport const validateElements = (\n  elements: NodeListOf<Element> | null,\n): Element | NodeListOf<Element> => {\n  if (!elements) {\n    throw new Error(PROMPT_MSG.empty_elem);\n  }\n\n  return elements;\n};\n\nexport const validateElementAttr = (attr: string, value: string): boolean => {\n  return attr === value;\n};\n\nexport const validateText = (text: string | null): string => {\n  if (!text) {\n    throw new Error(PROMPT_MSG.empty_text);\n  }\n\n  return text;\n};\n","import { validateElements, validateText } from './validator';\n\nexport const getElements = (selector: string): NodeListOf<Element> => {\n  const elements = document.querySelectorAll(selector);\n  validateElements(elements);\n\n  return elements;\n};\n\nexport const getElementAttr = (\n  element: Element,\n  customAttr: string,\n): string => {\n  const attr = element.getAttribute(validateText(customAttr));\n  return validateText(attr);\n};\n","type LifecycleEvent = 'DOMContentLoaded' | 'load' | 'beforeunload' | 'unload';\n\nconst lifecycleEvents: { [key in LifecycleEvent]?: Array<() => void> } = {\n  DOMContentLoaded: [],\n  load: [],\n  beforeunload: [],\n  unload: [],\n};\n\nconst eventFired: { [key in LifecycleEvent]?: boolean } = {\n  DOMContentLoaded: false,\n  load: false,\n  beforeunload: false,\n  unload: false,\n};\n\n// 콜백 등록 함수\nexport function onEvent(event: LifecycleEvent, callback: () => void) {\n  if (eventFired[event]) {\n    callback();\n    return;\n  }\n\n  lifecycleEvents[event]?.push(callback);\n}\n\n// 각 이벤트 발생 시 콜백 실행\ndocument.addEventListener('DOMContentLoaded', () => {\n  eventFired.DOMContentLoaded = true;\n  lifecycleEvents.DOMContentLoaded?.forEach((callback) => callback());\n});\n\nwindow.addEventListener('load', () => {\n  eventFired.load = true;\n  lifecycleEvents.load?.forEach((callback) => callback());\n});\n\nwindow.addEventListener('beforeunload', () => {\n  eventFired.beforeunload = true;\n  lifecycleEvents.beforeunload?.forEach((callback) => callback());\n});\n\nwindow.addEventListener('unload', () => {\n  eventFired.unload = true;\n  lifecycleEvents.unload?.forEach((callback) => callback());\n});\n","import { getElementAttr, getElements } from '../../helpers/getter';\nimport { validateElementAttr, validateText } from '../../helpers/validator';\nimport { onEvent } from '../../helpers/lifecycleManager';\n\nexport const commaizeNumber = () => {\n  const customAttr = 'tc-format-number';\n  const attrValue = 'comma';\n\n  const elements = getElements(`[${customAttr}]`);\n\n  elements.forEach((elem: Element) => {\n    const attr = getElementAttr(elem, customAttr);\n\n    if (validateElementAttr(attr, attrValue)) {\n      const hasText = validateText(elem.textContent);\n      const number = parseInt(hasText, 10);\n\n      if (!Number.isNaN(number)) {\n        elem.textContent = number.toLocaleString('ko-KR');\n      }\n    }\n  });\n};\n\nonEvent('DOMContentLoaded', commaizeNumber);\n"],"names":["PROMPT_MSG","validateText","text","Error","getElements","selector","elements","document","querySelectorAll","validateElements","lifecycleEvents","DOMContentLoaded","load","beforeunload","unload","eventFired","addEventListener","_a","forEach","callback","window","commaizeNumber","customAttr","elem","attr","element","getAttribute","getElementAttr","value","validateElementAttr","hasText","textContent","number","parseInt","Number","isNaN","toLocaleString","event","push"],"mappings":"uPAAO,MAAMA,EACC,WADDA,EAEC,gBCcDC,EAAgBC,IAC3B,IAAKA,EACH,MAAM,IAAIC,MAAMH,GAGlB,OAAOE,CAAI,ECnBAE,EAAeC,IAC1B,MAAMC,EAAWC,SAASC,iBAAiBH,GAG3C,MDJ8B,CAC9BC,IAEA,IAAKA,EACH,MAAM,IAAIH,MAAMH,EAGH,ECLfS,CAAiBH,GAEVA,CAAQ,ECJXI,EAAmE,CACvEC,iBAAkB,GAClBC,KAAM,GACNC,aAAc,GACdC,OAAQ,IAGJC,EAAoD,CACxDJ,kBAAkB,EAClBC,MAAM,EACNC,cAAc,EACdC,QAAQ,GAcVP,SAASS,iBAAiB,oBAAoB,WAC5CD,EAAWJ,kBAAmB,EACE,QAAhCM,EAAAP,EAAgBC,wBAAgB,IAAAM,GAAAA,EAAEC,SAASC,GAAaA,KAAW,IAGrEC,OAAOJ,iBAAiB,QAAQ,WAC9BD,EAAWH,MAAO,EACE,QAApBK,EAAAP,EAAgBE,YAAI,IAAAK,GAAAA,EAAEC,SAASC,GAAaA,KAAW,IAGzDC,OAAOJ,iBAAiB,gBAAgB,WACtCD,EAAWF,cAAe,EACE,QAA5BI,EAAAP,EAAgBG,oBAAY,IAAAI,GAAAA,EAAEC,SAASC,GAAaA,KAAW,IAGjEC,OAAOJ,iBAAiB,UAAU,WAChCD,EAAWD,QAAS,EACE,QAAtBG,EAAAP,EAAgBI,cAAM,IAAAG,GAAAA,EAAEC,SAASC,GAAaA,KAAW,ICxC9C,MAAAE,EAAiB,KAC5B,MAAMC,EAAa,mBAGFlB,EAAY,IAAIkB,MAExBJ,SAASK,IAChB,MAAMC,EFFoB,EAC5BC,EACAH,KAEA,MAAME,EAAOC,EAAQC,aAAazB,EAAaqB,IAC/C,OAAOrB,EAAauB,EAAK,EEHVG,CAAeJ,EAAMD,GAElC,GHD+B,EAACE,EAAcI,IACzCJ,IAASI,EGAVC,CAAoBL,EAPR,SAO0B,CACxC,MAAMM,EAAU7B,EAAasB,EAAKQ,aAC5BC,EAASC,SAASH,EAAS,IAE5BI,OAAOC,MAAMH,KAChBT,EAAKQ,YAAcC,EAAOI,eAAe,aAG7C,EDJY,IAAQC,EAAuBlB,IAAAA,ECOnBE,EDNtBN,EADkBsB,ECOhB,oBDLJlB,YAIFF,EAAAP,EAAgB2B,mBAAQC,KAAKnB"}